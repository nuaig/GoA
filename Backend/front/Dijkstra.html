<!DOCTYPE html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Dijkstra's Algorithm</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" type="text/css" media="screen" href="src/css/kruskal_prim_heapsort.css" />
    <script type="module" src="src/js/dijkstra.js"></script>
    <script src="https://cdn.lordicon.com/lordicon.js"></script>
  </head>
  <body>
    <div id="Renderer">
      <div class="world" id="world"></div>
    </div>

    <div class="topnav-centered">
      <p id="UI-Text" class="UI-Text">
        Start by selecting node 0, then find the shortest path to every other
        node in the graph!
      </p>
      <ul class="UI-Text Hint-Text hidden">
        <li>
          <img
            class="red-cross-icon"
            src="./symbols/red-cross-icon.svg"
            alt="Red Cross Icon"
            width="48"
            height="48"
            style="cursor: pointer"
          />
          <img
            class="green-check-icon"
            src="./symbols/green-check-icon.svg"
            alt="Green Check Icon"
            width="48"
            height="48"
            style="cursor: pointer"
          />
          Select the edge with the smallest total distance from the start
        </li>
        <li>
          <img
            class="red-cross-icon"
            src="./symbols/red-cross-icon.svg"
            alt="Red Cross Icon"
            width="48"
            height="48"
            style="cursor: pointer"
          />
          <img
            class="green-check-icon"
            src="./symbols/green-check-icon.svg"
            alt="Green Check Icon"
            width="48"
            height="48"
            style="cursor: pointer"
          />
          >Only connect to nodes that haven't been visited yet
        </li>
      </ul>
    </div>

    <!-- Top Right Icons Row -->
    <div class="Action-Icons-Holder">
      <div class="Action-Icons">
        <!-- Rearrange Icon -->
        <img
          class="Rearrange-Action"
          src="./symbols/rearrange-icon.svg"
          alt="Rearrange Icon"
          width="76"
          height="76"
          style="cursor: pointer"
        />
        <!-- Psudocode Icon -->
        <img
          class="Pesudocode-Icon"
          src="./symbols/psudocode-icon.svg"
          alt="Psudocode Icon"
          width="76"
          height="76"
          style="cursor: pointer"
        />
        <!-- Instruction Icon -->
        <img
          class="Instruction-Icon"
          src="./symbols/instruction-icon.svg"
          alt="Instruction Icon"
          width="76"
          height="76"
          style="cursor: pointer"
        />
        <!-- Settings Icon -->
        <img
          class="settings__icon"
          src="./symbols/settings-icon.svg"
          alt="Settings Icon"
          width="76"
          height="76"
          style="cursor: pointer"
        />
      </div>
    </div>

    <!-- Menu Shown when Instruction Icon Is Pressed -->
    <div class="sub-menu-wrap" id="subMenu">
      <div class="sub-menu">
        <div class="sub-menu-btn sub-menu-game-features">
          <p>Game Features</p>
        </div>
        <hr />
        <div class="sub-menu-btn sub-menu-algo-instructions">
          <p>Algorithm</p>
        </div>
      </div>
    </div>

    <!-- Psudocode Shown when Psudocode Is Pressed -->
    <div class="topnav-instructions pseudo dijkstra-pseudo hidden">
      <pre class="code-block">
        DIJKSTRA(G, w, s):
        1.  <span class="function">INITIALIZE-SINGLE-SOURCE</span>(G, s)
        2.  S = ∅
        3.  Q = G.V
        4.  while Q ≠ ∅:
        5.      u = <span class="function">EXTRACT-MIN</span>(Q)
        6.      S = S ∪ {u}
        7.      for each vertex v ∈ <span class="function">Adj</span>[u]:
        8.          <span class="correct__select">RELAX(u, v, w)</span>
      </pre>
    </div>

    <!-- Tutorial Walk Through -->
    <div class="tutorial-instructions-modal hidden">
      <h3>Tutorial Walk-through</h3>
      <pre class="code-block">
        <strong>Instruction:</strong>  
        <span class="tuto-instruction-text">Select the starting node to begin the tutorial after reading the explanation below.</span>

        <strong>Explanation:</strong>  
        <span class="tuto-explanation-text">The treasure chests are nodes, and the lines between them are weighted edges. Your goal is to find the shortest path from the starting node to all other nodes. Dijkstra's algorithm picks the closest unvisited node at each step and updates path costs accordingly.</span>
      </pre>
    </div>

    <!-- Top Left Lives -->
    <div id="header-with-health" class="header">
      <div class="header-content">
        <div class="health">
          <div class="health-label">Lives</div>
          <div id="health-bar">
            <img
              class="health-icon"
              src="./symbols/health-full-icon.svg"
              alt="Health Icon"
              width="20"
              height="20"
            />
            <img
              class="health-icon"
              src="./symbols/health-full-icon.svg"
              alt="Health Icon"
              width="20"
              height="20"
            />
            <img
              class="health-icon"
              src="./symbols/health-full-icon.svg"
              alt="Health Icon"
              width="20"
              height="20"
            />
            <img
              class="health-icon"
              src="./symbols/health-full-icon.svg"
              alt="Health Icon"
              width="20"
              height="20"
            />
            <img
              class="health-icon"
              src="./symbols/health-full-icon.svg"
              alt="Health Icon"
              width="20"
              height="20"
            />
          </div>
        </div>
        <div class="score">
          <div class="score-label">Score</div>
          <div class="score-label-2">00</div>
        </div>
      </div>
    </div>

    <!-- Top Left Score -->
    <div id="header-without-health" class="header hidden">
      <div class="header-content">
        <div class="score">
          <div class="score-label">Score</div>
          <div class="score-label-2">00</div>
        </div>
      </div>
    </div>

    <!-- Welcome Modal -->
    <div class="modal modal__tutorial hidden">
      <h2 class="modal__header tutorial__header">
        Welcome to Dijkstra's Room!
      </h2>
      <p class="label__tutorial_text">
        Would you like to learn Dijkstra's Algorithm through an interactive
        walk-through tutorial?
      </p>

      <div class="button__holder">
        <button class="btn btn__tutorial__yes">Yes</button>
        <button class="btn btn__tutorial__no_or_continue">No</button>
      </div>
    </div>

    <!-- Menu Shown When Settings Icon Pressed -->
    <div class="modal modal__settings hidden">
      <h2 class="modal__header settings__header">Settings</h2>
      <div class="button__holder">
        <button class="btn btn__setting__restart">Restart this level</button>
      </div>
      <div class="button__holder">
        <button class="btn btn__setting__diffLvl">
          Choose different level
        </button>
      </div>
      <div class="button__holder">
        <button class="btn btn__setting__tutorial">Tutorial</button>
      </div>
      <div class="button__holder">
        <button class="btn btn__setting__mainDungeon">
          Go back to main dungeon
        </button>
      </div>
      <img
        class="btn__close"
        src="./symbols/close-icon.svg"
        alt="Close Icon"
        width="36"
        height="36"
        style="cursor: pointer"
      />
    </div>

    <!-- Level Choice Modal -->
    <div class="modal modal__level__selection hidden">
      <h2 class="modal__header level__selection__header">
        Dijkstra's Room Levels
      </h2>
      <div id="mode-container" class="mode-selection">
        <button
          id="training-mode-btn"
          class="btn mode-btn training-mode active"
        >
          Training Mode
        </button>
        <button id="regular-mode-btn" class="btn mode-btn regular-mode">
          Regular Mode
        </button>
      </div>
      <button class="btn btn__level__1 level__btn__holder">
        <p class="btn__level">Level 1</p>
        <div class="level__stars__holder">
          <img
            class="feather feather-star"
            src="./symbols/star-small-empty-icon.svg"
            alt="Small Empty Star Icon"
            width="24"
            height="24"
          />
          <img
            class="feather feather-star"
            src="./symbols/star-small-empty-icon.svg"
            alt="Small Empty Star Icon"
            width="24"
            height="24"
          />
          <img
            class="feather feather-star"
            src="./symbols/star-small-empty-icon.svg"
            alt="Small Empty Star Icon"
            width="24"
            height="24"
          />
        </div>
        <div></div>
      </button>
      <button class="btn btn__level__2 level__btn__holder level__locked">
        <p class="btn__level">Level 2</p>
        <div class="level__stars__holder">
          <img
            class="feather feather-star"
            src="./symbols/star-small-empty-icon.svg"
            alt="SmallEmpty Star Icon"
            width="24"
            height="24"
          />
          <img
            class="feather feather-star"
            src="./symbols/star-small-empty-icon.svg"
            alt="Small Empty Star Icon"
            width="24"
            height="24"
          />
          <img
            class="feather feather-star"
            src="./symbols/star-small-empty-icon.svg"
            alt="Small Empty Star Icon"
            width="24"
            height="24"
          />
        </div>
        <div>
          <img
            class="feather feather-lock"
            src="./symbols/lock-icon.svg"
            alt="Lock Icon"
            width="24"
            height="24"
          />
        </div>
      </button>
      <button class="btn btn__level__3 level__btn__holder level__locked">
        <p class="btn__level">Level 3</p>
        <div class="level__stars__holder">
          <img
            class="feather feather-star"
            src="./symbols/star-small-empty-icon.svg"
            alt="Small Empty Star Icon"
            width="24"
            height="24"
          />
          <img
            class="feather feather-star"
            src="./symbols/star-small-empty-icon.svg"
            alt="Small Empty Star Icon"
            width="24"
            height="24"
          />
          <img
            class="feather feather-star"
            src="./symbols/star-small-empty-icon.svg"
            alt="Small Empty Star Icon"
            width="24"
            height="24"
          />
        </div>
        <div>
          <img
            class="feather feather-lock"
            src="./symbols/lock-icon.svg"
            alt="Lock Icon"
            width="24"
            height="24"
          />
        </div>
      </button>

      <img
        class="btn__close btn__level__close hidden"
        src="./symbols/close-icon.svg"
        alt="Close Icon"
        width="36"
        height="36"
        style="cursor: pointer"
      />
    </div>

    <!-- Completion Modal -->
    <div class="modal modal__completion hidden">
      <h2 class="modal__header modal__completion__header">Congratulations!</h2>
      <div class="stars__rating">
        <img
          class="star"
          src="./symbols/star-big-full-icon.svg"
          alt="Full Star"
          width="90"
          height="90"
        />
        <img
          class="star"
          src="./symbols/star-big-full-icon.svg"
          alt="Full Star"
          width="90"
          height="90"
        />
        <img
          class="star"
          src="./symbols/star-big-full-icon.svg"
          alt="Full Star"
          width="90"
          height="90"
        />
      </div>
      <p class="label__final_score">Final Score : <span>00</span></p>
      <p class="label__completion_text">
        You have successfully completed level 1 of Dijkstra's Algorithm!
      </p>
      <div class="button__holder">
        <button class="btn btn__setting__mainDungeon">
          Go back to Main Dungeon
        </button>
        <button class="btn btn__again">Try again</button>
        <button class="btn btn__next">Next Level &rarr;</button>
        <button class="btn btn__change__level">Change Level</button>
      </div>
    </div>

    <!-- Start Game Modal -->
    <div class="modal instruction hidden">
      <img
        class="instruction__img"
        src="src/GameFeatures/Kruskal%20Game%20Features.svg"
        alt="Dijkstra Game Features"
      />
      <div class="button__holder">
        <button class="btn btn__instruction__start">
          Start the game &rarr;
        </button>
      </div>
    </div>

    <!-- Algorithm Modal -->
    <div class="modal algo-instruction-modal hidden">
      <div class="algo-instruction mySwiper">
        <h2 class="modal__header">
          Step-by-Step Guide to Dijkstra's Algorithm
        </h2>
        <div class="testi-content swiper-wrapper">
          <div class="slide swiper-slide">
            <img
              src="src/AlgorithmsInstructions/kruskalAlgo/1.svg"
              alt="Dijkstra Algorithm Step 1"
            />
          </div>
          <div class="slide swiper-slide">
            <img
              src="src/AlgorithmsInstructions/kruskalAlgo/2.svg"
              alt="Dijkstra Algorithm Step 2"
            />
          </div>
          <div class="slide swiper-slide">
            <img
              src="src/AlgorithmsInstructions/kruskalAlgo/3.svg"
              alt="Dijkstra Algorithm Step 3"
            />
          </div>
          <div class="slide swiper-slide">
            <img
              src="src/AlgorithmsInstructions/kruskalAlgo/4.svg"
              alt="Dijkstra Algorithm Step 4"
            />
          </div>
          <div class="slide swiper-slide">
            <img
              src="src/AlgorithmsInstructions/kruskalAlgo/5.svg"
              alt="Dijkstra Algorithm Step 5"
            />
          </div>
        </div>
        <div class="swiper-button-next nav-btn"></div>
        <div class="swiper-button-prev nav-btn"></div>
        <div class="swiper-pagination"></div>
      </div>
      <div class="button__holder">
        <button class="btn btn-algo-instruction-close">Close</button>
      </div>
    </div>
    <div class="overlay hidden"></div>

    <!-- Edge Table UI -->
    <div
      id="tables-container"
      class="edge-table-container"
      style="
        display: none;
        position: absolute;
        bottom: 10px;
        left: 10px;
        background: #343a40;
        color: white;
        padding: 10px;
        border-radius: 8px;
        z-index: 99;
      "
    >
      <div
        style="
          position: absolute;
          bottom: 10px;
          left: 10px;
          right: 10px;
          display: flex;
          gap: 20px;
          justify-content: space-between;
          z-index: 99;
          font-family: monospace;
        "
      >
        <!-- Edge Table -->
        <div
          style="
            background: #343a40;
            color: white;
            padding: 10px;
            border-radius: 8px;
            flex: 1;
          "
        >
          <h3 style="margin: 0 0 10px 0">Graph Edges</h3>
          <table
            id="edgeTable"
            border="1"
            cellpadding="5"
            cellspacing="0"
            style="border-collapse: collapse; width: 100%"
          >
            <thead>
              <tr style="background-color: #1971c2">
                <th>From</th>
                <th>To</th>
                <th>Weight</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>

        <!-- Distance Table -->
        <div
          style="
            background: #343a40;
            color: white;
            padding: 10px;
            border-radius: 8px;
            flex: 1;
          "
        >
          <h3 style="margin: 0 0 10px 0">Distance from Source</h3>
          <table
            id="distanceTable"
            border="1"
            cellpadding="5"
            cellspacing="0"
            style="border-collapse: collapse; width: 100%"
          >
            <thead>
              <tr style="background-color: #1971c2">
                <th>Node</th>
                <th>Distance</th>
              </tr>
            </thead>
            <tbody id="distance-table-body">
              <!-- Rows will be inserted here -->
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Backdrop -->
    <div
      id="input-backdrop"
      style="
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: rgba(0, 0, 0, 0.6);
        z-index: 999;
      "
    ></div>

    <!-- Dialog -->
    <div
      id="input-dialog"
      style="
        display: none;
        position: fixed;
        bottom: 280px; 
        left: 30px;
        background: #343a40;
        color: white;
        border-radius: 8px;
        border: 2px solid #1971c2;
        padding: 20px;
        z-index: 1000;
        width: 300px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      "
    >
      <h3 style="margin-top: 0; color: white">Distance Update</h3>
      <p style="margin-bottom: 10px">Update the distance from node 0 the destination node</p>
      <input
        type="text"
        id="dialog-input"
        placeholder="Enter something..."
        style="
          width: 100%;
          padding: 10px;
          border-radius: 5px;
          border: none;
          font-size: 14px;
          box-sizing: border-box;
          margin-bottom: 15px;
        "
      />
      <div style="text-align: center">
        <button
          id="dialog-ok-btn"
          style="
            background-color: #1971c2;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
          "
        >
          OK
        </button>
      </div>
    </div>
  </body>
</html>
